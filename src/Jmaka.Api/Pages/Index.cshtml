@page
@{
    Layout = null;
}
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jmaka</title>
  <link rel="stylesheet" href="~/app.css" asp-append-version="true" />
  <link rel="stylesheet" href="~/features/videoedit/style.css" asp-append-version="true" />
</head>
<body>
  <main class="page">
    <section class="uploader" aria-label="–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞">
      <!-- Left Panel -->
      <div class="left-panel">
        <!-- Logo at the top -->
        <div class="ascii-logo-container">
          <pre id="asciiArt" class="ascii-art"></pre>
          <span class="version-badge" data-version>v0.4.0</span>
        </div>

        <!-- Upload button and languages HORIZONTALLY -->
        <div class="upload-and-language">
          <!-- Upload button on the left -->
          <button class="save-btn" id="saveBtn" type="button" aria-label="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
            <div class="save-icon" aria-hidden="true">
              <svg class="save-arrow" viewBox="0 0 64 64" focusable="false">
                <path d="M32 8v22" fill="none" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                <path d="M20 24l12 12 12-12" fill="none" stroke="currentColor" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <svg class="save-disk" viewBox="0 0 64 64" focusable="false">
                <path d="M10 8h34l10 10v38H10V8zm6 6v12h26V14H16zm0 20v16h32V34H16zm6-16h12v6H22v-6z" />
              </svg>
            </div>
            <div class="save-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</div>
          </button>

          <!-- Language switcher on the right -->
          <div id="languageSwitcher" class="language-switcher" aria-label="Language selector">
            <button id="langRuBtn" class="lang-btn" type="button" data-lang="ru" aria-pressed="false">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
            <button id="langEnBtn" class="lang-btn" type="button" data-lang="en-US" aria-pressed="false">üá∫üá∏ English</button>
            <button id="langEsBtn" class="lang-btn" type="button" data-lang="es-ES" aria-pressed="false">üá™üá∏ Espa√±ol</button>
          </div>
        </div>
      </div>

      <!-- Right Panel -->
      <div class="preview-wrap">
        <div class="main-controls" aria-label="–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è">
          <div class="tool-buttons" aria-label="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã">
            <div class="tool-row">
              <button id="splitToolBtn" class="btn tool-btn" type="button">Split</button>
              <button id="split3ToolBtn" class="btn tool-btn" type="button">Split3</button>
              <button id="oknoFixToolBtn" class="btn tool-btn" type="button">OknoFix</button>
              <button id="oknoScaleToolBtn" class="btn tool-btn" type="button">OknoScale</button>
            </div>
            <div class="tool-row">
              <button id="cropToolBtn" class="btn tool-btn" type="button">Crop</button>
              <button id="imageEditToolBtn" class="btn tool-btn" type="button">Edit</button>
              <button id="videoEditToolBtn" class="btn tool-btn video-edit" type="button">Video Edit<span class="excl" aria-hidden="true">‚ùó</span></button>
            </div>
          </div>

          <div id="sizeButtons" class="size-buttons" aria-label="–†–∞–∑–º–µ—Ä—ã">
            <button class="size-btn" type="button" data-w="2440" disabled>2440</button>
            <button class="size-btn" type="button" data-w="1920" disabled>1920</button>
            <button class="size-btn" type="button" data-w="1280" disabled>1280</button>
          </div>
        </div>

        <div id="hint" class="hint">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –¥–∏—Å–∫–µ—Ç—É, –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ ‚Äî –∏ –æ–Ω–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è.</div>
        <button id="helpBtn" class="help-btn" type="button" aria-label="–°–ø—Ä–∞–≤–∫–∞">?</button>
      </div>

      <input id="fileInput" class="file-input" type="file" accept="image/*" multiple />
      <input id="videoInput" class="file-input" type="file" accept="video/*" hidden />
    </section>

    <div class="tables-wrap" aria-label="–¢–∞–±–ª–∏—Ü—ã —Ñ–∞–π–ª–æ–≤">
      <div class="links-wrap" aria-label="–¢–∞–±–ª–∏—Ü–∞ —Ñ–∞–π–ª–æ–≤">
        <div class="links-title">Original / Crop / Sizes</div>
        <div class="table-wrap">
          <table class="files-table" aria-label="–ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã">
            <thead>
              <tr>
                <th class="col-dt">–î–∞—Ç–∞ - –≤—Ä–µ–º—è</th>
                <th class="col-orig">–û—Ä–∏–≥–∏–Ω–∞–ª</th>
                <th class="col-crop">Crop</th>
                <th class="col-size">1280</th>
                <th class="col-size">1920</th>
                <th class="col-size">2440</th>
                <th class="col-del"></th>
              </tr>
            </thead>
            <tbody id="filesTbody"></tbody>
          </table>
        </div>
      </div>

      <div class="links-wrap composites-wrap" aria-label="–¢–∞–±–ª–∏—Ü–∞ Split">
      <div class="links-title">Split / Split3 / OknoFix / OknoScale / Edits</div>
        <div class="table-wrap">
          <table class="files-table" aria-label="Split / Split3">
            <thead>
              <tr>
                <th class="col-dt">–î–∞—Ç–∞ - –≤—Ä–µ–º—è</th>
                <th class="col-kind">–¢–∏–ø</th>
                <th class="col-comp">–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                <th class="col-del"></th>
              </tr>
            </thead>
            <tbody id="compositesTbody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <pre id="result" class="result" aria-label="–†–µ–∑—É–ª—å—Ç–∞—Ç" hidden></pre>
    
    <footer style="text-align: center; padding: 10px; font-size: 11px; color: #64748b; opacity: 0.7;">
      Jmaka v<span data-version>0.4.0</span>
    </footer>
  </main>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è -->
  <div id="deleteModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="–£–¥–∞–ª–µ–Ω–∏–µ">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">–£–¥–∞–ª–µ–Ω–∏–µ</div>
          <div class="modal-sub">
            <span class="modal-subtext">–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ?</span>
          </div>
        </div>
        <button id="deleteClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body">
        <label class="checkbox-row">
          <input id="deleteSkipConfirm" type="checkbox" />
          <span>–ë–æ–ª—å—à–µ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å (—É–¥–∞–ª—è—Ç—å —Å—Ä–∞–∑—É)</span>
        </label>
      </div>
      <div class="modal-footer">
        <div class="modal-hint">–ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ, –æ—á–∏—Å—Ç–∏–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ LocalStorage.</div>
        <div class="modal-actions">
          <button id="deleteCancel" class="btn" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button id="deleteConfirm" class="btn danger" type="button">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
  <div id="viewerModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card viewer-card" role="dialog" aria-modal="true" aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">–ü—Ä–æ—Å–º–æ—Ç—Ä</div>
          <div class="modal-sub">
            <span id="viewerLabel" class="modal-subtext"></span>
            <a id="viewerOpen" class="modal-sublink" href="#" target="_blank" rel="noreferrer" hidden>–û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ</a>
          </div>
        </div>
        <button id="viewerClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body viewer-body">
        <img id="viewerImg" class="viewer-img" alt="" />
      </div>
    </div>
  </div>

  <partial name="Features/_SplitModal" />
  <partial name="Features/_OknoFixModal" />
  <partial name="Features/_OknoScaleModal" />
  <partial name="Features/_ImageEditModal" />
  <partial name="Features/_VideoEditModal" />
  <partial name="Features/_Split3Modal" />
  <partial name="Features/_CropModal" />
  <div id="helpModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card help-card" role="dialog" aria-modal="true" aria-label="–°–ø—Ä–∞–≤–∫–∞ –ø–æ Jmaka">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">–°–ø—Ä–∞–≤–∫–∞ –ø–æ Jmaka</div>
          <div class="modal-sub">
            <span class="modal-subtext">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –≥–æ—Ä—è—á–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π.</span>
          </div>
        </div>
        <button id="helpClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body help-body">
        <p><strong>Jmaka</strong> ‚Äî –Ω–µ–±–æ–ª—å—à–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.</p>
        <h3>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</h3>
        <ul>
          <li>–ö–Ω–æ–ø–∫–∞-–¥–∏—Å–∫–µ—Ç–∞ ‚Äî –≤—ã–±–æ—Ä –¥–æ 15 —Ñ–∞–π–ª–æ–≤ –∑–∞ —Ä–∞–∑.</li>
          <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ drag &amp; drop: –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ –æ–∫–Ω–æ.</li>
          <li>–í—Å—Ç–∞–≤–∫–∞ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ (Ctrl+V) –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫.</li>
        </ul>
        <h3>–¢–∞–±–ª–∏—Ü–∞ —Ñ–∞–π–ª–æ–≤</h3>
        <ul>
          <li>–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É).</li>
          <li>–í —è—á–µ–π–∫–µ ¬´–û—Ä–∏–≥–∏–Ω–∞–ª¬ª ‚Äî –º–∏–Ω–∏–∞—Ç—é—Ä–∞ + –º–∞–ª–µ–Ω—å–∫–∞—è –∫–Ω–æ–ø–∫–∞-–¥–∏—Å–∫–µ—Ç–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è.</li>
          <li>–†–∞–∑–º–µ—Ä—ã 1280 / 1920 / 2440 —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ –∫–ª–∏–∫—É –ø–æ –∫–Ω–æ–ø–∫–∞–º —Å–≤–µ—Ä—Ö—É.</li>
          <li>–ö—Ä–µ—Å—Ç–∏–∫ —Å–ø—Ä–∞–≤–∞ —É–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.</li>
        </ul>
        <h3>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h3>
        <ul>
          <li><strong>Crop</strong> ‚Äî –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞ —Å –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–π (1:1, 2:3, 16:9).</li>
          <li><strong>Split</strong> ‚Äî –¥–≤–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Üí –æ–¥–Ω–∞ 1280√ó720, –±–µ–ª–∞—è –ø–æ–ª–æ—Å–∞ 7px –ø–æ —Ü–µ–Ω—Ç—Ä—É.</li>
          <li><strong>Split3</strong> ‚Äî —Ç—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Üí –æ–¥–Ω–∞ 1280√ó720, –¥–≤–µ –±–µ–ª—ã–µ –ø–æ–ª–æ—Å—ã 7px.</li>
          <li><strong>OknoFix</strong> ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ —Å—Ç—Ä–æ–≥–æ–º—É PNG-—à–∞–±–ª–æ–Ω—É:
            <ul>
              <li>—Ä–µ–∂–∏–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞ (–∫–∞–∫ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º PNG);</li>
              <li>–∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø–æ–¥–ª–æ–∂–∫–∏ –¥–≤–∏–≥–∞–µ—Ç—Å—è –º—ã—à—å—é –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ;</li>
              <li>–º–∞—Å—à—Ç–∞–± ‚Äî —á–µ—Ä–µ–∑ –∫–æ–ª–µ—Å–æ –º—ã—à–∏ –∏–ª–∏ –∫–Ω–æ–ø–∫–∏ ¬´‚àí¬ª/¬´+¬ª –≤–Ω–∏–∑—É —Å–ø—Ä–∞–≤–∞.</li>
            </ul>
          </li>
          <li><strong>OknoScale</strong> ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Ç–æ–π –∂–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∏–∑–º–µ–Ω—è–µ–º–æ–π —à–∏—Ä–∏–Ω–æ–π –æ–∫–Ω–∞.</li>
          <li><strong>Edit</strong> ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —è—Ä–∫–æ—Å—Ç–∏, –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞, –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç–∏, –æ—Ç—Ç–µ–Ω–∫–∞, —ç–∫—Å–ø–æ–∑–∏—Ü–∏–∏ –∏ –≤–∏–±—Ä–∞—Ü–∏–∏.</li>
          <li><strong>Video Edit</strong> ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:
            <ul>
              <li><strong>Trim</strong> ‚Äî –æ–±—Ä–µ–∑–∫–∞ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ –∏ –≤—ã—Ä–µ–∑–∞–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–µ—Ä–µ–¥–∏–Ω—ã;</li>
              <li><strong>Crop</strong> ‚Äî –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ;</li>
              <li><strong>Rotate</strong> ‚Äî –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ 90¬∞, 180¬∞ –∏–ª–∏ 270¬∞;</li>
              <li><strong>Flip</strong> ‚Äî –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –∏–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏;</li>
              <li><strong>Speed</strong> ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ (0.25x - 2.0x);</li>
              <li><strong>Mute</strong> ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞;</li>
              <li><strong>Reset</strong> ‚Äî —Å–±—Ä–æ—Å –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.</li>
            </ul>
          </li>
        </ul>
        <h3>–ü—Ä–æ—á–µ–µ</h3>
        <ul>
          <li>–ò—Å—Ç–æ—Ä–∏—è Split / Split3 / OknoFix / OknoScale / Edit / Video Edit ‚Äî –≤ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ.</li>
          <li>–ö–∞–∂–¥—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å, —Å–∫–∞—á–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å.</li>
          <li>–°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –∏ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Load ascii-art.js before feature scripts since shared/core depends on window.getRandomAsciiArt -->
  <script src="~/ascii-art.js" asp-append-version="true"></script>
  <script src="~/features/shared/core.js" asp-append-version="true"></script>
  <script src="~/features/split/tool.js" asp-append-version="true"></script>
  <script src="~/features/split3/tool.js" asp-append-version="true"></script>
  <script src="~/features/oknofix/tool.js" asp-append-version="true"></script>
  <script src="~/features/oknoscale/tool.js" asp-append-version="true"></script>
  <script src="~/features/crop/tool.js" asp-append-version="true"></script>
  <script src="~/features/edit/tool.js" asp-append-version="true"></script>
  <script src="~/features/videoedit/tool.js" asp-append-version="true"></script>
</body>
</html>
