@page
@{
    Layout = null;
}
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jmaka</title>
  <link rel="stylesheet" href="~/app.css" asp-append-version="true" />
  <link rel="stylesheet" href="~/video-edit.css" asp-append-version="true" />
</head>
<body>
  <main class="page">
    <section class="uploader" aria-label="–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞">
      <!-- Left Panel -->
      <div class="left-panel">
        <!-- Logo at the top -->
        <div class="ascii-logo-container">
          <pre id="asciiArt" class="ascii-art"></pre>
          <span class="version-badge" data-version>v0.4.0</span>
        </div>

        <!-- Upload button and languages HORIZONTALLY -->
        <div class="upload-and-language">
          <!-- Upload button on the left -->
          <button class="save-btn" id="saveBtn" type="button" aria-label="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ">
            <div class="save-icon" aria-hidden="true">
              <svg class="save-arrow" viewBox="0 0 64 64" focusable="false">
                <path d="M32 8v22" fill="none" stroke="currentColor" stroke-width="6" stroke-linecap="round" />
                <path d="M20 24l12 12 12-12" fill="none" stroke="currentColor" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <svg class="save-disk" viewBox="0 0 64 64" focusable="false">
                <path d="M10 8h34l10 10v38H10V8zm6 6v12h26V14H16zm0 20v16h32V34H16zm6-16h12v6H22v-6z" />
              </svg>
            </div>
            <div class="save-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</div>
          </button>

          <!-- Language switcher on the right -->
          <div id="languageSwitcher" class="language-switcher" aria-label="Language selector">
            <button id="langRuBtn" class="lang-btn" type="button" data-lang="ru" aria-pressed="false">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
            <button id="langEnBtn" class="lang-btn" type="button" data-lang="en-US" aria-pressed="false">üá∫üá∏ English</button>
            <button id="langEsBtn" class="lang-btn" type="button" data-lang="es-ES" aria-pressed="false">üá™üá∏ Espa√±ol</button>
          </div>
        </div>
      </div>

      <!-- Right Panel -->
      <div class="preview-wrap">
        <div class="main-controls" aria-label="–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è">
          <div class="tool-buttons" aria-label="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã">
            <div class="tool-row">
              <button id="splitToolBtn" class="btn tool-btn" type="button">Split</button>
              <button id="split3ToolBtn" class="btn tool-btn" type="button">Split3</button>
              <button id="trashFixToolBtn" class="btn tool-btn" type="button">OknoFix</button>
              <button id="trashToolBtn" class="btn tool-btn" type="button">OknoScale</button>
            </div>
            <div class="tool-row">
              <button id="cropToolBtn" class="btn tool-btn" type="button">Crop</button>
              <button id="imageEditToolBtn" class="btn tool-btn" type="button">Edit</button>
              <button id="videoEditToolBtn" class="btn tool-btn video-edit" type="button">Video Edit<span class="excl">‚ùó</span></button>
            </div>
          </div>

          <div id="sizeButtons" class="size-buttons" aria-label="–†–∞–∑–º–µ—Ä—ã">
            <button class="size-btn" type="button" data-w="2440" disabled>2440</button>
            <button class="size-btn" type="button" data-w="1920" disabled>1920</button>
            <button class="size-btn" type="button" data-w="1280" disabled>1280</button>
          </div>
        </div>

        <div id="hint" class="hint">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –¥–∏—Å–∫–µ—Ç—É, –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ ‚Äî –∏ –æ–Ω–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è.</div>
        <button id="helpBtn" class="help-btn" type="button" aria-label="–°–ø—Ä–∞–≤–∫–∞">?</button>
      </div>

      <input id="fileInput" class="file-input" type="file" accept="image/*" multiple />
      <input id="videoInput" class="file-input" type="file" accept="video/*" hidden />
    </section>

    <div class="tables-wrap" aria-label="–¢–∞–±–ª–∏—Ü—ã —Ñ–∞–π–ª–æ–≤">
      <div class="links-wrap" aria-label="–¢–∞–±–ª–∏—Ü–∞ —Ñ–∞–π–ª–æ–≤">
        <div class="links-title">Original / Crop / Sizes</div>
        <div class="table-wrap">
          <table class="files-table" aria-label="–ì–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã">
            <thead>
              <tr>
                <th class="col-dt">–î–∞—Ç–∞ - –≤—Ä–µ–º—è</th>
                <th class="col-orig">–û—Ä–∏–≥–∏–Ω–∞–ª</th>
                <th class="col-crop">Crop</th>
                <th class="col-size">1280</th>
                <th class="col-size">1920</th>
                <th class="col-size">2440</th>
                <th class="col-del"></th>
              </tr>
            </thead>
            <tbody id="filesTbody"></tbody>
          </table>
        </div>
      </div>

      <div class="links-wrap composites-wrap" aria-label="–¢–∞–±–ª–∏—Ü–∞ Split">
      <div class="links-title">Split / Split3 / OknoFix / OknoScale / Edits</div>
        <div class="table-wrap">
          <table class="files-table" aria-label="Split / Split3">
            <thead>
              <tr>
                <th class="col-dt">–î–∞—Ç–∞ - –≤—Ä–µ–º—è</th>
                <th class="col-kind">–¢–∏–ø</th>
                <th class="col-comp">–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                <th class="col-del"></th>
              </tr>
            </thead>
            <tbody id="compositesTbody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <pre id="result" class="result" aria-label="–†–µ–∑—É–ª—å—Ç–∞—Ç" hidden></pre>
    
    <footer style="text-align: center; padding: 10px; font-size: 11px; color: #64748b; opacity: 0.7;">
      Jmaka v<span data-version>0.4.0</span>
    </footer>
  </main>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è -->
  <div id="deleteModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="–£–¥–∞–ª–µ–Ω–∏–µ">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">–£–¥–∞–ª–µ–Ω–∏–µ</div>
          <div class="modal-sub">
            <span class="modal-subtext">–£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ?</span>
          </div>
        </div>
        <button id="deleteClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body">
        <label class="checkbox-row">
          <input id="deleteSkipConfirm" type="checkbox" />
          <span>–ë–æ–ª—å—à–µ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å (—É–¥–∞–ª—è—Ç—å —Å—Ä–∞–∑—É)</span>
        </label>
      </div>
      <div class="modal-footer">
        <div class="modal-hint">–ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ, –æ—á–∏—Å—Ç–∏–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ LocalStorage.</div>
        <div class="modal-actions">
          <button id="deleteCancel" class="btn" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button id="deleteConfirm" class="btn danger" type="button">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
  <div id="viewerModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card viewer-card" role="dialog" aria-modal="true" aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">–ü—Ä–æ—Å–º–æ—Ç—Ä</div>
          <div class="modal-sub">
            <span id="viewerLabel" class="modal-subtext"></span>
            <a id="viewerOpen" class="modal-sublink" href="#" target="_blank" rel="noreferrer" hidden>–û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ</a>
          </div>
        </div>
        <button id="viewerClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body viewer-body">
        <img id="viewerImg" class="viewer-img" alt="" />
      </div>
    </div>
  </div>

  <!-- Split -->
  <div id="splitModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card split-card" role="dialog" aria-modal="true" aria-label="Split">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">Split (2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Üí 16:9)</div>
          <div class="modal-sub">
            <span class="modal-subtext">–ü–æ–ª–µ 1280√ó720. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.</span>
          </div>
        </div>
        <button id="splitClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body">
        <div class="split-controls" aria-label="–í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π">
          <div class="split-label">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç, –∑–∞—Ç–µ–º –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –ø—Ä–µ–≤—å—é –∏–∑ —Å–ø–∏—Å–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:</div>
          <div class="split-targets">
            <button id="splitPickTargetA" class="split-target is-active" type="button" aria-label="–í—ã–±–æ—Ä –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ 1">
              <div class="split-target-title">#1</div>
              <img id="splitTargetImgA" class="split-target-img" alt="" />
            </button>
            <button id="splitPickTargetB" class="split-target" type="button" aria-label="–í—ã–±–æ—Ä –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ 2">
              <div class="split-target-title">#2</div>
              <img id="splitTargetImgB" class="split-target-img" alt="" />
            </button>
          </div>
          <div id="splitGallery" class="split-gallery" aria-label="–ü—Ä–µ–≤—å—é (1280)"></div>
        </div>
        <div id="splitStage" class="split-stage" aria-label="–ü–æ–ª–µ 16:9">
          <div id="splitHalfLeft" class="split-half left" aria-label="–õ–µ–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞">
            <div id="splitItemA" class="split-item" data-i="a" hidden>
              <img class="split-img" alt="" />
              <div class="split-handle tl" data-h="tl"></div>
              <div class="split-handle t" data-h="t"></div>
              <div class="split-handle tr" data-h="tr"></div>
              <div class="split-handle r" data-h="r"></div>
              <div class="split-handle br" data-h="br"></div>
              <div class="split-handle b" data-h="b"></div>
              <div class="split-handle bl" data-h="bl"></div>
              <div class="split-handle l" data-h="l"></div>
            </div>
          </div>
          <div id="splitHalfRight" class="split-half right" aria-label="–ü—Ä–∞–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞">
            <div id="splitItemB" class="split-item" data-i="b" hidden>
              <img class="split-img" alt="" />
              <div class="split-handle tl" data-h="tl"></div>
              <div class="split-handle t" data-h="t"></div>
              <div class="split-handle tr" data-h="tr"></div>
              <div class="split-handle r" data-h="r"></div>
              <div class="split-handle br" data-h="br"></div>
              <div class="split-handle b" data-h="b"></div>
              <div class="split-handle bl" data-h="bl"></div>
              <div class="split-handle l" data-h="l"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div id="splitHint" class="modal-hint">–í—ã–±–µ—Ä–∏—Ç–µ –¥–≤–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∏–∑ –≥–æ—Ç–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ 1280.</div>
        <div class="modal-actions">
          <button id="splitCancel" class="btn" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button id="splitApply" class="btn primary" type="button">–°–∫–ª–µ–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- TrashImg / OknoFix -->
  <div id="trashModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card trash-modal-card" role="dialog" aria-modal="true" aria-label="OknoFix">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">OknoFix (1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)</div>
          <div class="modal-sub">
            <span class="modal-subtext">–û–∫–Ω–æ –∏ —Ä–∞–º–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —à–∞–±–ª–æ–Ω—É. –î–≤–∏–≥–∞–π—Ç–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –∫–∞—Ä—Ç–∏–Ω–∫—É –ø–æ–¥ –æ–∫–Ω–æ–º.</span>
          </div>
        </div>
        <button id="trashClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body">
        <div class="trash-stage-wrap">
          <div id="trashStage" class="trash-stage" aria-label="OknoFix —à–∞–±–ª–æ–Ω">
            <div id="trashCard" class="trash-card">
              <div id="trashImgViewport" class="trash-img-viewport">
                <img id="trashImg" class="trash-img" alt="" />
              </div>
              <!-- PNG-—à–∞–±–ª–æ–Ω –≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç–∏–Ω–∫–∏, —á—Ç–æ–±—ã –ø—Ä–µ–≤—å—é —Å–æ–≤–ø–∞–¥–∞–ª–æ —Å –∏—Ç–æ–≥–æ–≤—ã–º –≤–∏–¥–æ–º -->
              <div class="trash-overlay" aria-hidden="true"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div id="trashHint" class="modal-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ —Ñ–∞–π–ª–æ–≤, –∑–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ OknoFix.</div>
        <div class="modal-actions">
          <div class="trash-zoom-controls" aria-label="–ú–∞—Å—à—Ç–∞–± –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–æ–¥–ª–æ–∂–∫–∏">
            <button id="trashZoomOut" class="btn trash-zoom-btn" type="button">‚àí</button>
            <button id="trashZoomIn" class="btn trash-zoom-btn" type="button">+</button>
          </div>
          <button id="trashCancel" class="btn" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
          <button id="trashApply" class="btn primary" type="button" disabled>–°–¥–µ–ª–∞—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- OknoScale -->
  <div id="oknoScaleModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card trash-modal-card" role="dialog" aria-modal="true" aria-label="OknoScale">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">OknoScale (1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞)</div>
          <div class="modal-sub">
            <span class="modal-subtext">–û–∫–Ω–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –ø–æ –≤—ã—Å–æ—Ç–µ –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ, —à–∏—Ä–∏–Ω—É –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞.</span>
          </div>
        </div>
        <button id="oknoScaleClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body">
        <div class="trash-stage-wrap">
          <div id="oknoScaleStage" class="trash-stage" aria-label="OknoScale —à–∞–±–ª–æ–Ω">
            <div id="oknoScaleCard" class="trash-card">
              <div id="oknoScaleImgViewport" class="trash-img-viewport">
                <img id="oknoScaleImg" class="trash-img" alt="" />
              </div>
              <div id="oknoScaleHandleLeft" class="oknoscale-handle left" data-side="left"></div>
              <div id="oknoScaleHandleRight" class="oknoscale-handle right" data-side="right"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div id="oknoScaleHint" class="modal-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ —Ñ–∞–π–ª–æ–≤, –∑–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ OknoScale.</div>
        <div class="modal-actions">
          <div class="trash-zoom-controls" aria-label="–ú–∞—Å—à—Ç–∞–± –∫–∞—Ä—Ç–∏–Ω–∫–∏ –ø–æ–¥–ª–æ–∂–∫–∏">
            <button id="oknoScaleZoomOut" class="btn trash-zoom-btn" type="button">‚àí</button>
            <button id="oknoScaleZoomIn" class="btn trash-zoom-btn" type="button">+</button>
          </div>
          <button id="oknoScaleCancel" class="btn" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
          <button id="oknoScaleApply" class="btn primary" type="button" disabled>–°–¥–µ–ª–∞—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Image Edit -->
  <div id="imageEditModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card edit-card" role="dialog" aria-modal="true" aria-label="Image Edit">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">Image Edit</div>
          <div class="modal-sub">
            <span class="modal-subtext">–ü—Ä–∞–≤–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Äî –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.</span>
          </div>
        </div>
        <button id="imageEditClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body edit-body">
        <div class="edit-main">
          <div class="edit-source-picker" aria-label="–í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è">
            <div class="edit-source-header">
              <span>Choose image</span>
              <button id="imageEditRefreshTop" class="btn small" type="button">Refresh</button>
            </div>
            <div id="imageEditTopList" class="edit-source-list"></div>
          </div>
          <div class="edit-preview">
            <canvas id="imageEditCanvas" class="edit-preview-canvas" aria-label="Image preview"></canvas>
            <img id="imageEditOriginal" class="edit-preview-img" alt="" hidden />
            <div class="edit-preview-overlay">
              <button id="imageEditCompare" class="btn compare-btn" type="button">Hold to Compare</button>
            </div>
          </div>
        </div>
        <aside class="edit-sidebar">
          <div class="edit-controls-column">
            <div class="edit-section edit-presets">
            <div class="edit-section-title">Presets</div>
            <div class="preset-buttons">
              <button class="btn preset-btn" type="button" data-preset="Auto">Auto</button>
              <button class="btn preset-btn" type="button" data-preset="BW">B&W</button>
              <button class="btn preset-btn" type="button" data-preset="Pop">Pop</button>
            </div>
          </div>

          <div class="edit-section edit-panels">
            <div class="edit-panel" data-panel="color">
              <button class="edit-panel-header" type="button">
                <span>Color</span>
                <span class="edit-panel-icon">‚éà</span>
              </button>
              <div class="edit-panel-body">
                <div class="slider-row" data-param="color.vibrance" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Vibrance</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="color.saturation" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Saturation</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="color.temperature" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Temperature</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="color.tint" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Tint</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="color.hue" data-min="-180" data-max="180">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Hue</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
              </div>
            </div>

            <div class="edit-panel" data-panel="light">
              <button class="edit-panel-header" type="button">
                <span>Light</span>
                <span class="edit-panel-icon">‚óê</span>
              </button>
              <div class="edit-panel-body">
                <div class="slider-row" data-param="light.brightness" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Brightness</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="light.exposure" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Exposure</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="light.contrast" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Contrast</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="light.black" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Black</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="light.white" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">White</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="light.highlights" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Highlights</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="light.shadows" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Shadows</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
              </div>
            </div>

            <div class="edit-panel" data-panel="details">
              <button class="edit-panel-header" type="button">
                <span>Details</span>
                <span class="edit-panel-icon">‚ú¶</span>
              </button>
              <div class="edit-panel-body">
                <div class="slider-row" data-param="details.sharpen" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Sharpen</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="details.clarity" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Clarity</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="details.smooth" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Smooth</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="details.blur" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Blur</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="details.grain" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Grain</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
              </div>
            </div>

            <div class="edit-panel" data-panel="scene">
              <button class="edit-panel-header" type="button">
                <span>Scene</span>
                <span class="edit-panel-icon">‚ñ¢</span>
              </button>
              <div class="edit-panel-body">
                <div class="slider-row" data-param="scene.vignette" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Vignette</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="scene.glamour" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Glamour</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="scene.bloom" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Bloom</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
                <div class="slider-row" data-param="scene.dehaze" data-min="-100" data-max="100">
                  <div class="slider-header">
                    <button class="slider-label" type="button">Dehaze</button>
                    <button class="slider-value" type="button">0</button>
                  </div>
                  <div class="slider-track">
                    <input type="range" value="0" />
                    <span class="slider-zero"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          </div>

        </aside>
      </div>
      <div class="modal-footer">
        <div id="imageEditHint" class="modal-hint">–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –≤–µ—Ä—Ö–Ω–µ–≥–æ —Å–ø–∏—Å–∫–∞.</div>
        <div class="modal-actions">
          <button id="imageEditCancel" class="btn" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
          <button id="imageEditApply" class="btn primary" type="button" disabled>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Video Edit -->
  <div id="videoEditModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card video-edit-card" role="dialog" aria-modal="true" aria-label="Video Edit">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">Video Edit</div>
          <div class="modal-sub">
            <span class="modal-subtext">–¢—Ä–∏–º–º–∏–Ω–≥, –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–≤–æ—Ä–æ—Ç –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞.</span>
          </div>
        </div>
        <button id="videoEditClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      
      <!-- Video Edit Toolbar -->
      <div class="video-edit-toolbar">
        <div class="video-tool-group">
          <button class="tool-btn" data-tool="trim" type="button" title="Trim">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M3 2l1 1-1 1-1-1 1-1zm5 0l1 1-1 1-1-1 1-1zm5 0l1 1-1 1-1-1 1-1zm-10 5l1 1-1 1-1-1 1-1zm5 0l1 1-1 1-1-1 1-1zm5 0l1 1-1 1-1-1 1-1zm-10 5l1 1-1 1-1-1 1-1zm5 0l1 1-1 1-1-1 1-1zm5 0l1 1-1 1-1-1 1-1z"/>
              <path d="M2 1h3v14H2V1zm9 0h3v14h-3V1z" fill-opacity="0.4"/>
            </svg>
            <span>Trim</span>
          </button>
          <button class="tool-btn" data-tool="crop" type="button" title="Crop">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M11 1h1v3h3v1h-3v6h-1V5H5v6H4v1h6v3h1v-3h4v-1h-4V1z"/>
              <path d="M1 4h3v1H1V4zm0 6h3v1H1v-1z"/>
            </svg>
            <span>Crop</span>
          </button>
          <button class="tool-btn" data-tool="rotate" type="button" title="Rotate">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 2a6 6 0 016 6h2A8 8 0 008 0v2zm0 12a6 6 0 01-6-6H0a8 8 0 008 8v-2z"/>
              <path d="M14 8l2-2 2 2h-4z"/>
            </svg>
            <span>Rotate</span>
          </button>
          <button class="tool-btn" data-tool="flip" type="button" title="Flip">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M7 1v14H6V1h1zm2 0v14h1V1H9z"/>
              <path d="M2 4l3 4-3 4V4zm12 0l-3 4 3 4V4z" fill-opacity="0.6"/>
            </svg>
            <span>Flip</span>
          </button>
          <button class="tool-btn" data-tool="speed" type="button" title="Speed">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 2a6 6 0 100 12A6 6 0 008 2zm0 1a5 5 0 110 10A5 5 0 018 3z"/>
              <path d="M8 5v3h3V7H9V5H8z"/>
            </svg>
            <span>Speed</span>
          </button>
        </div>
        <div class="video-tool-group">
          <label class="tool-btn tool-toggle" title="–£–±—Ä–∞—Ç—å –∞—É–¥–∏–æ">
            <input id="videoMuteAudio" type="checkbox" hidden />
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 3l-3 3H2v4h3l3 3V3z"/>
              <path d="M12 5l-1 1 2 2-2 2 1 1 2-2 2 2 1-1-2-2 2-2-1-1-2 2-2-2z" fill-opacity="0.8"/>
            </svg>
            <span id="videoMuteLabel">–ë–µ–∑ –∑–≤—É–∫–∞</span>
          </label>
          <button id="videoResetBtn" class="tool-btn" type="button" title="–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 2a6 6 0 00-5.29 3H5v1H1V2h1v2.08A7 7 0 118 15v-1a6 6 0 100-12z"/>
            </svg>
            <span>Reset</span>
          </button>
        </div>
      </div>

      <!-- Tool-specific panels -->
      <div class="video-tool-panels">
        <div class="video-tool-panel" data-tool-panel="trim">
          <div class="panel-hint">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–π–º–ª–∞–π–Ω –Ω–∏–∂–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –≤–∏–¥–µ–æ</div>
        </div>
        <div class="video-tool-panel" data-tool-panel="crop" hidden>
          <div class="panel-hint">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —É–≥–ª—ã —Ä–∞–º–∫–∏ –¥–ª—è –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ</div>
        </div>
        <div class="video-tool-panel" data-tool-panel="rotate" hidden>
          <div class="panel-controls">
            <button id="videoRotateCw" class="btn small" type="button">‚Üª 90¬∞ –ø–æ —á.—Å.</button>
            <button id="videoRotateCcw" class="btn small" type="button">‚Ü∫ 90¬∞ –ø—Ä–æ—Ç–∏–≤ —á.—Å.</button>
            <button id="videoRotateReset" class="btn small" type="button">–°–±—Ä–æ—Å–∏—Ç—å</button>
          </div>
        </div>
        <div class="video-tool-panel" data-tool-panel="flip" hidden>
          <div class="panel-controls">
            <button id="videoFlipH" class="btn small" type="button">‚Üî –ü–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏</button>
            <button id="videoFlipV" class="btn small" type="button">‚Üï –ü–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏</button>
          </div>
        </div>
        <div class="video-tool-panel" data-tool-panel="speed" hidden>
          <div class="panel-controls">
            <label class="video-speed-label">
              –°–∫–æ—Ä–æ—Å—Ç—å: <span id="videoSpeedValue">1.0x</span>
              <input id="videoSpeedRange" type="range" min="0.25" max="2" step="0.25" value="1" />
            </label>
          </div>
        </div>
      </div>
      
      <div class="modal-body video-edit-body">
        <div class="video-edit-layout">
          <div class="video-edit-main">
            <div class="video-preview-wrap">
              <div class="video-preview-stage">
                <video id="videoEditPreview" class="video-preview" playsinline></video>
                <div id="videoCropOverlay" class="video-crop-overlay" hidden>
                  <div id="videoCropRect" class="video-crop-rect" role="presentation">
                    <span class="crop-handle tl" data-handle="tl"></span>
                    <span class="crop-handle tr" data-handle="tr"></span>
                    <span class="crop-handle bl" data-handle="bl"></span>
                    <span class="crop-handle br" data-handle="br"></span>
                  </div>
                </div>
              </div>
            </div>
            <div class="video-timeline">
              <div class="timeline-strip" id="videoTimelineStrip">
                <canvas id="videoTimelineCanvas"></canvas>
                <div id="videoTimelineSegments" class="timeline-segments"></div>
                <div id="videoTimelinePlayhead" class="timeline-playhead"></div>
              </div>
              <div class="timeline-meta">
                <div class="timeline-range">
                  IN <span id="videoTrimStartLabel">00:00</span> ¬∑ OUT <span id="videoTrimEndLabel">00:00</span>
                </div>
                <div class="timeline-help">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã, —á—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –æ—Ç—Ä–µ–∑–æ–∫.</div>
                <div class="timeline-segment-controls">
                  <button id="videoAddSegment" class="btn small" type="button" title="–î–æ–±–∞–≤–∏—Ç—å —Å–µ–≥–º–µ–Ω—Ç">+ –°–µ–≥–º–µ–Ω—Ç</button>
                  <button id="videoRemoveSegment" class="btn small" type="button" title="–£–¥–∞–ª–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç">‚àí –°–µ–≥–º–µ–Ω—Ç</button>
                  <span id="videoSegmentsInfo" class="segments-info">1 —Å–µ–≥–º–µ–Ω—Ç</span>
                </div>
              </div>
            </div>
            <div class="video-edit-controls">
              <button id="videoPlayToggle" class="btn icon-btn" type="button">‚ñ∂</button>
              <div class="video-timecode"><span id="videoCurrentTime">00:00</span> / <span id="videoDuration">00:00</span></div>
            </div>
          </div>
          <aside class="video-edit-sidebar">
            <div class="sidebar-section">
              <div class="sidebar-header">
                <span>Originals</span>
                <label class="btn small">
                  Upload
                  <input id="videoUploadInput" type="file" accept="video/*" hidden />
                </label>
                <button id="videoHistoryRefresh" class="btn small" type="button">Refresh</button>
              </div>
              <div id="videoOriginalsList" class="video-list"></div>
            </div>
            <div class="sidebar-section">
              <div class="sidebar-header">
                <span>Processed</span>
              </div>
              <div id="videoProcessedList" class="video-list"></div>
            </div>
          </aside>
        </div>
        <div id="videoProcessingOverlay" class="video-processing-overlay" hidden>Processing‚Ä¶</div>
      </div>
      <div class="modal-footer">
        <div id="videoEditHint" class="modal-hint">–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ.</div>
        <div class="modal-actions">
          <label class="video-advanced">Target size (MB)
            <input id="videoTargetSize" type="number" min="0.1" max="2048" step="0.1" value="1" />
          </label>
          <button id="videoEditCancel" class="btn" type="button">–ó–∞–∫—Ä—ã—Ç—å</button>
          <button id="videoEditSave" class="btn primary" type="button" disabled>–°–¥–µ–ª–∞—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Split3 -->
  <div id="split3Modal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card split-card split3-card" role="dialog" aria-modal="true" aria-label="Split3">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">Split3 (3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Üí 16:9)</div>
          <div class="modal-sub">
            <span class="modal-subtext">–ü–æ–ª–µ 1280√ó720. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.</span>
          </div>
        </div>
        <button id="split3Close" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body">
        <div class="split-controls" aria-label="–í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π">
          <div class="split-label">–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ—Ç, –∑–∞—Ç–µ–º –∫–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –ø—Ä–µ–≤—å—é –∏–∑ —Å–ø–∏—Å–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:</div>
          <div class="split-targets">
            <button id="split3PickTargetA" class="split-target is-active" type="button" aria-label="–í—ã–±–æ—Ä –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ 1">
              <div class="split-target-title">#1</div>
              <img id="split3TargetImgA" class="split-target-img" alt="" />
            </button>
            <button id="split3PickTargetB" class="split-target" type="button" aria-label="–í—ã–±–æ—Ä –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ 2">
              <div class="split-target-title">#2</div>
              <img id="split3TargetImgB" class="split-target-img" alt="" />
            </button>
            <button id="split3PickTargetC" class="split-target" type="button" aria-label="–í—ã–±–æ—Ä –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ 3">
              <div class="split-target-title">#3</div>
              <img id="split3TargetImgC" class="split-target-img" alt="" />
            </button>
          </div>
          <div id="split3Gallery" class="split-gallery" aria-label="–ü—Ä–µ–≤—å—é"></div>
        </div>
        <div id="split3Stage" class="split-stage split3-stage" aria-label="–ü–æ–ª–µ 16:9">
          <div id="split3ThirdA" class="split-half split3-third one" aria-label="–¢—Ä–µ—Ç—å 1">
            <div id="split3ItemA" class="split-item" data-i="a" hidden>
              <img class="split-img" alt="" />
              <div class="split-handle tl" data-h="tl"></div>
              <div class="split-handle t" data-h="t"></div>
              <div class="split-handle tr" data-h="tr"></div>
              <div class="split-handle r" data-h="r"></div>
              <div class="split-handle br" data-h="br"></div>
              <div class="split-handle b" data-h="b"></div>
              <div class="split-handle bl" data-h="bl"></div>
              <div class="split-handle l" data-h="l"></div>
            </div>
          </div>
          <div id="split3ThirdB" class="split-half split3-third two" aria-label="–¢—Ä–µ—Ç—å 2">
            <div id="split3ItemB" class="split-item" data-i="b" hidden>
              <img class="split-img" alt="" />
              <div class="split-handle tl" data-h="tl"></div>
              <div class="split-handle t" data-h="t"></div>
              <div class="split-handle tr" data-h="tr"></div>
              <div class="split-handle r" data-h="r"></div>
              <div class="split-handle br" data-h="br"></div>
              <div class="split-handle b" data-h="b"></div>
              <div class="split-handle bl" data-h="bl"></div>
              <div class="split-handle l" data-h="l"></div>
            </div>
          </div>
          <div id="split3ThirdC" class="split-half split3-third three" aria-label="–¢—Ä–µ—Ç—å 3">
            <div id="split3ItemC" class="split-item" data-i="c" hidden>
              <img class="split-img" alt="" />
              <div class="split-handle tl" data-h="tl"></div>
              <div class="split-handle t" data-h="t"></div>
              <div class="split-handle tr" data-h="tr"></div>
              <div class="split-handle r" data-h="r"></div>
              <div class="split-handle br" data-h="br"></div>
              <div class="split-handle b" data-h="b"></div>
              <div class="split-handle bl" data-h="bl"></div>
              <div class="split-handle l" data-h="l"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div id="split3Hint" class="modal-hint">–í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏.</div>
        <div class="modal-actions">
          <button id="split3Cancel" class="btn" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button id="split3Apply" class="btn primary" type="button">–°–∫–ª–µ–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <div id="cropModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card crop-card" role="dialog" aria-modal="true" aria-label="–ö–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">–ö–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
          <div class="modal-sub">
            <span id="cropSourceLabel" class="modal-subtext"></span>
            <a id="cropOpenOriginal" class="modal-sublink" href="#" target="_blank" rel="noreferrer" hidden>–û—Ç–∫—Ä—ã—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª</a>
          </div>
        </div>
        <button id="cropClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body">
        <div id="cropStage" class="crop-stage">
          <img id="cropImg" class="crop-img" alt="" />
          <div id="cropRect" class="crop-rect">
            <div class="crop-handle tl" data-h="tl"></div>
            <div class="crop-handle tr" data-h="tr"></div>
            <div class="crop-handle bl" data-h="bl"></div>
            <div class="crop-handle br" data-h="br"></div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div class="modal-hint">
          –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —Ä–∞–º–∫—É –∏ –µ—ë —É–≥–ª—ã. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏:
          <div class="aspect-buttons" aria-label="–ü—Ä–æ–ø–æ—Ä—Ü–∏–∏ –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏—è">
            <button class="btn aspect-btn" type="button" data-aw="1" data-ah="1">1:1</button>
            <button class="btn aspect-btn" type="button" data-aw="2" data-ah="3">2:3</button>
            <button class="btn aspect-btn is-active" type="button" data-aw="16" data-ah="9">16:9</button>
          </div>
        </div>
        <div class="modal-actions">
          <button id="cropCancel" class="btn" type="button">–û—Ç–º–µ–Ω–∞</button>
          <button id="cropApply" class="btn primary" type="button">–û–±—Ä–µ–∑–∞—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- –°–ø—Ä–∞–≤–∫–∞ -->
  <div id="helpModal" class="modal" hidden>
    <div class="modal-backdrop" data-close="1"></div>
    <div class="modal-card help-card" role="dialog" aria-modal="true" aria-label="–°–ø—Ä–∞–≤–∫–∞ –ø–æ Jmaka">
      <div class="modal-header">
        <div class="modal-title-wrap">
          <div class="modal-title">–°–ø—Ä–∞–≤–∫–∞ –ø–æ Jmaka</div>
          <div class="modal-sub">
            <span class="modal-subtext">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –≥–æ—Ä—è—á–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π.</span>
          </div>
        </div>
        <button id="helpClose" class="modal-x" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
      </div>
      <div class="modal-body help-body">
        <p><strong>Jmaka</strong> ‚Äî –Ω–µ–±–æ–ª—å—à–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.</p>
        <h3>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</h3>
        <ul>
          <li>–ö–Ω–æ–ø–∫–∞-–¥–∏—Å–∫–µ—Ç–∞ ‚Äî –≤—ã–±–æ—Ä –¥–æ 15 —Ñ–∞–π–ª–æ–≤ –∑–∞ —Ä–∞–∑.</li>
          <li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ drag &amp; drop: –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ –æ–∫–Ω–æ.</li>
          <li>–í—Å—Ç–∞–≤–∫–∞ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞ (Ctrl+V) –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫.</li>
        </ul>
        <h3>–¢–∞–±–ª–∏—Ü–∞ —Ñ–∞–π–ª–æ–≤</h3>
        <ul>
          <li>–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É).</li>
          <li>–í —è—á–µ–π–∫–µ ¬´–û—Ä–∏–≥–∏–Ω–∞–ª¬ª ‚Äî –º–∏–Ω–∏–∞—Ç—é—Ä–∞ + –º–∞–ª–µ–Ω—å–∫–∞—è –∫–Ω–æ–ø–∫–∞-–¥–∏—Å–∫–µ—Ç–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è.</li>
          <li>–†–∞–∑–º–µ—Ä—ã 1280 / 1920 / 2440 —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ –∫–ª–∏–∫—É –ø–æ –∫–Ω–æ–ø–∫–∞–º —Å–≤–µ—Ä—Ö—É.</li>
          <li>–ö—Ä–µ—Å—Ç–∏–∫ —Å–ø—Ä–∞–≤–∞ —É–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.</li>
        </ul>
        <h3>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h3>
        <ul>
          <li><strong>Crop</strong> ‚Äî –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞ —Å –≤—ã–±–æ—Ä–æ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–π (1:1, 2:3, 16:9).</li>
          <li><strong>Split</strong> ‚Äî –¥–≤–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Üí –æ–¥–Ω–∞ 1280√ó720, –±–µ–ª–∞—è –ø–æ–ª–æ—Å–∞ 7px –ø–æ —Ü–µ–Ω—Ç—Ä—É.</li>
          <li><strong>Split3</strong> ‚Äî —Ç—Ä–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ ‚Üí –æ–¥–Ω–∞ 1280√ó720, –¥–≤–µ –±–µ–ª—ã–µ –ø–æ–ª–æ—Å—ã 7px.</li>
          <li><strong>OknoFix</strong> ‚Äî –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ —Å—Ç—Ä–æ–≥–æ–º—É PNG-—à–∞–±–ª–æ–Ω—É:
            <ul>
              <li>—Ä–µ–∂–∏–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞ (–∫–∞–∫ –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º PNG);</li>
              <li>–∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø–æ–¥–ª–æ–∂–∫–∏ –¥–≤–∏–≥–∞–µ—Ç—Å—è –º—ã—à—å—é –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ;</li>
              <li>–º–∞—Å—à—Ç–∞–± ‚Äî —á–µ—Ä–µ–∑ –∫–æ–ª–µ—Å–æ –º—ã—à–∏ –∏–ª–∏ –∫–Ω–æ–ø–∫–∏ ¬´‚àí¬ª/¬´+¬ª –≤–Ω–∏–∑—É —Å–ø—Ä–∞–≤–∞.</li>
            </ul>
          </li>
          <li><strong>OknoScale</strong> ‚Äî —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Ç–æ–π –∂–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å –∏–∑–º–µ–Ω—è–µ–º–æ–π —à–∏—Ä–∏–Ω–æ–π –æ–∫–Ω–∞.</li>
          <li><strong>Edit</strong> ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —è—Ä–∫–æ—Å—Ç–∏, –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞, –Ω–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç–∏, –æ—Ç—Ç–µ–Ω–∫–∞, —ç–∫—Å–ø–æ–∑–∏—Ü–∏–∏ –∏ –≤–∏–±—Ä–∞—Ü–∏–∏.</li>
          <li><strong>Video Edit</strong> ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:
            <ul>
              <li><strong>Trim</strong> ‚Äî –æ–±—Ä–µ–∑–∫–∞ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ –∏ –≤—ã—Ä–µ–∑–∞–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –∏–∑ —Å–µ—Ä–µ–¥–∏–Ω—ã;</li>
              <li><strong>Crop</strong> ‚Äî –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ;</li>
              <li><strong>Rotate</strong> ‚Äî –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ 90¬∞, 180¬∞ –∏–ª–∏ 270¬∞;</li>
              <li><strong>Flip</strong> ‚Äî –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ –∏–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏;</li>
              <li><strong>Speed</strong> ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ (0.25x - 2.0x);</li>
              <li><strong>Mute</strong> ‚Äî –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∑–≤—É–∫–∞;</li>
              <li><strong>Reset</strong> ‚Äî —Å–±—Ä–æ—Å –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.</li>
            </ul>
          </li>
        </ul>
        <h3>–ü—Ä–æ—á–µ–µ</h3>
        <ul>
          <li>–ò—Å—Ç–æ—Ä–∏—è Split / Split3 / OknoFix / OknoScale / Edit / Video Edit ‚Äî –≤ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ.</li>
          <li>–ö–∞–∂–¥—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å, —Å–∫–∞—á–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å.</li>
          <li>–°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –∏ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è.</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Load ascii-art.js before app.js since app.js depends on window.getRandomAsciiArt -->
  <script src="~/ascii-art.js" asp-append-version="true"></script>
  <script src="~/app.js" asp-append-version="true"></script>
  <script src="~/video-edit.js" asp-append-version="true"></script>
</body>
</html>
